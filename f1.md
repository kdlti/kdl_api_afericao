# Indicador F1
### KDL API REST para Aferição de Indicadores
*versão 1.0.0*

Este endpoint é resposável pela entrega de informações da telegestão do indicador F1.

Como parte da URI se faz necessário definir o mês e ano a ser consultado.

| Método | URI | Exemplo                                                    | 
| --- | --- | :-----------                                               | 
| GET | `/f1/0/0000` | api-afericao.kdltelegestao.com.br/f1/4/2022 |

##### Autorização:
O token de autorização deve ser enviado no header da consulta.
```javascript
const request = require('request');

request({
  url: 'https://api-afericao.kdltelegestao.com.br/a2/04/2022',
  headers: {
     'Authorization': 'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c'
  },
  rejectUnauthorized: false
}, function(err, res) {
      if(err) {
        console.error(err);
      } else {
        console.log(res.body);
      }
});
```

##### Parâmetros opcionais:
| Indentificador | Tipo   | Default   |  Descrição                                                                        | 
| -------------- | -------| :--------:| :------------------------------------------------------------------------------   | 
| resumo   | `bool`  |  **true** | Indica se deve ou não retornar os dados resumidos dos indicadores encontrados  |
| limit          | `int`  |  **1000** | Quantidade de itens retornados na página de resultado                             |
| offset     | `int`  |  **0**    | O número de documentos a serem ignorados no conjunto de resultados.                                           |

### Exemplo do Resultado:
``` json
{
  "data": {
    "tipo": "F1",
    "transmissoes":{
      "transmissoesNecessarias": 4,
      "transmissoesRecebidas": 4,
      "diasMonitorado": 1,
      "resultado": "100%",
      "status": 0,
      "dias": {
        "1": {
          "horas": {
            "0": 60,
            "1": 60,
            "2": 60,
            "3": 60
          },
          "transmissoesRecebidas": 60
        }
      }
    },
    "resumo": {
      "ano": 2022,
      "mes": 4,
      "transmissoesNecessarias": 4,
      "transmissoesRecebidas": 4,
      "diasMonitorado": 1,
      "resultado": "100%",
      "status": 1
    }
  },
  "total": 2,
  "limit": 1000,
  "offset": 1,
  "success": true,
  "elapsedTime": "123.18s"
}
```
### Dicionário do Resultado:
##### Bloco PRINCIPAL:
| Indentificador | Tipo | Descrição | 
| ------ | ---------| :------------------------------------------                  | 
| data   | `object` | Resultado da consulta                                        | 
| total  | `int`    | Quantidade de itens encontrados                              | 
| limit  | `int`    | Quantidade de itens retornados por página                    | 
| offset | `int`    | O número de documentos a serem ignorados no conjunto de resultados.  |
| success| `bool`   | Status de sucesso/falha da interação                         | 
| elapsedTime   | `string` | Tempo de duração da consulta                          | 

##### Bloco DATA:
| Indentificador | Tipo | Descrição                                                | 
| :------ | ---------| :------------------------------------------                  | 
| tipo   | `string` | Identifica o tipo de indicador consultado                    | 
| transmissoes| `object` | Informações sobre as transmissões recebidas            | 
| resumo | `object` | Consolidação do resultados encontrados  | 

##### Bloco TRANSMISSOES:
| Indentificador | Tipo | Descrição | 
| ------------------- | ------   | :------------------------------------------     | 
| transmissoesNecessarias | `int`    | Quantidade de transmissões necessárias      | 
| transmissoesRecebidas  | `int`    | Quantidade de transmissões recebidas         | 
| diasMonitorado      | `int`    | Quantidade de dias monitorado                   | 
| resultado           | `string` | Resultado do cálculo da fórmula em porcentagem  | 
| status              | `float`  | Resultado do cálculo da fórmula em decimal      | 
| dias                | `int`    | Envolve o bloco de dias monitorado              | 

##### Bloco DIAS:
| Indentificador | Tipo | Descrição | 
| :-------------- | ---------| :------------------------------------------          | 
| 0~31           | `string` | Identificador do dia monitorado                      | 
| horas          | `string` | Identificador da hora monitorado                     |
| transmissoesRecebidas  | `int`    | Quantidade de transmissões recebidas no dia  |

##### Bloco HORAS:
| Indentificador | Tipo     | Descrição | 
| -------------- | ---------| :------------------------------------------          | 
| 0~23           | `string` | Quantidade de transmissões recebidas na hora         |

##### Bloco RESUMO:
| Indentificador | Tipo | Descrição | 
| :------------------- | ------| :------------------------------------------        | 
| ano                 | `int`    | Ano                                             | 
| mes                 | `int`    | Mês                                             | 
| transmissoesNecessarias | `int`    | Quantidade de transmissões necessárias      | 
| transmissoesRecebidas  | `int`    | Quantidade de transmissões recebidas         | 
| diasMonitorado      | `int`    | Quantidade de dias monitorado                   | 
| resultado           | `string` | Resultado do cálculo da fórmula em porcentagem  | 
| status              | `float`  | Resultado do cálculo da fórmula em decimal      | 