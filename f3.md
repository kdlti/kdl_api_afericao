# Indicador F3
### KDL API REST para Aferi√ß√£o de Indicadores
*vers√£o 5.0.0*

üîê **ATEN√á√ÉO**: Este endpoint requer autentica√ß√£o JWT. Inclua o token Bearer no cabe√ßalho Authorization.

Este endpoint √© respos√°vel pela entrega de informa√ß√µes da telegest√£o do indicador F3.

## üåê URL Base
```
https://simcidadesinteligentes.com.br:44300
```

| M√©todo | URI                       | Exemplo                                                      | 
| --- |---------------------------|:-------------------------------------------------------------| 
| GET | `/f3/v7/00/00/0000`       | https://simcidadesinteligentes.com.br:44300/f3/v7/01/01/2023           |
| GET | `/f3/v7/etiqueta`            | https://simcidadesinteligentes.com.br:44300/f3/v7/IP0322471             |
| GET | `/f3/v7/etiqueta/00/00/0000` | https://simcidadesinteligentes.com.br:44300/f3/v7/IP0322471/01/01/2023 |

## üîí Autentica√ß√£o

Todas as requisi√ß√µes devem incluir o token Bearer no cabe√ßalho:

```bash
Authorization: Bearer SEU_TOKEN_JWT
```

### Exemplo com cURL:
```bash
curl -X GET "https://simcidadesinteligentes.com.br:44300/f3/v7/01/01/2023" \
     -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ..." \
     -H "Content-Type: application/json"
```

##### Par√¢metros opcionais:
| Identificador | Tipo   | Default   |  Descri√ß√£o                                                                        | 
| -------------- | -------| :--------:| :------------------------------------------------------------------------------   | 
| limit          | `int`  |  **1000** | Quantidade de itens retornados na p√°gina de resultado                             |
| offset     | `int`  |  **0**    | O n√∫mero de documentos a serem ignorados no conjunto de resultados.                                           |

| Exemplo de uso dos par√¢metros | 
|:------------------------------| 
| ?limit=200&offset=400         |

### Exemplo do Resultado:
``` json
{
    "data": {
        "type": "F3",
        "result": [
            {
                "_id": "62fb5380149bf19632320a0a",
                "etiqueta": "IP0505619",
                "subPrefeitura": "LAPA",
                "coletaPeca": "2022-07-06T05:51:59Z",
                "comissionadoEm": "2022-07-01T00:00:00Z",
                "latitude": "-23.52666",
                "longitude": "-46.70880",
                "periodo": "00~05"
            }
        ]
    },
    "total": 1,
    "totalRetornado": 8,
    "offset": 0,
    "limit": 1,
    "success": true,
    "elapsedTime": "1.76402ms"
}
```
### Dicion√°rio do Resultado:
##### Bloco PRINCIPAL:
| Identificador | Tipo     | Descri√ß√£o                                                           | 
|:--------------|----------|:--------------------------------------------------------------------| 
| data          | `object` | Resultado da consulta                                               | 
| total         | `int`    | Quantidade de itens encontrados                                     |
| totalRetornado | `int64`  | Quantidade de itens retornados                                     |
| limit         | `int`    | Quantidade de itens retornados por p√°gina                           | 
| offset        | `int`    | O n√∫mero de documentos a serem ignorados no conjunto de resultados. |
| success       | `bool`   | Status de sucesso/falha da intera√ß√£o                                | 
| elapsedTime   | `string` | Tempo de dura√ß√£o da consulta                                        | 

##### Bloco DATA:
| Identificador | Tipo            | Descri√ß√£o                                             | 
|:--------------|-----------------|:------------------------------------------------------| 
| type          | `string`        | Identifica o tipo de indicador consultado             | 
| result        | `array<object>` | Lista de pe√ßas encontradas                            | 

##### Bloco RESULT:
| Identificador   | Tipo      | Descri√ß√£o                                                             | 
|:----------------|-----------|:----------------------------------------------------------------------| 
| id              | `string`  | Identificador do documento                                            |
| coletaPeca      | `string`  | Hor√°rio da leitura da pe√ßa                                            |
| etiqueta        | `string`  | Identificador universal da lumin√°ria                                  |
| subPrefeitura   | `string`  | Identificador da SubPrefeitura                                        | 
| comissionadoEm  | `string`  | Dia do comissionamento da pe√ßa                                        | 
| latitude        | `string`  | Latitude                                                              |
| longitude       | `string`  | Longitude                                                             |
| periodo         | `string`  | `00:00`-`05:59` / `06:00`-`11:59` / `12:00`-`17:59` / `18:00`-`23:59` |